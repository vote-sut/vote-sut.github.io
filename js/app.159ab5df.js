(function(t){function e(e){for(var o,a,c=e[0],i=e[1],u=e[2],l=0,b=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&b.push(r[a][0]),r[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);p&&p(e);while(b.length)b.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},s=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0f62":function(t,e,n){t.exports=n.p+"img/user.49121173.svg"},"11c7":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("b0c0");var o=n("7a23"),r=n("5502"),s=n("6c02");function a(t,e,n,r,s,a){var c=Object(o["u"])("router-view");return Object(o["p"])(),Object(o["d"])(c)}var c={name:"App"};c.render=a;var i=c,u=(n("11c7"),{class:"main registration"}),p={class:"container registration__wrap"},l={class:"registration__content"},b=Object(o["g"])("h1",{class:"registration__title"},"Регистрация в голосовании",-1),m=Object(o["g"])("p",{class:"registration__subtitle"},"Для участия в голосовании необходима регистрация",-1),f={class:"form__label"},g=Object(o["g"])("button",{class:"button button_black form__submit"},"Зарегистрироваться",-1);function d(t,e,n,r,s,a){var c=Object(o["u"])("Header");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])(c),Object(o["g"])("main",u,[Object(o["g"])("div",p,[Object(o["g"])("div",l,[b,m,Object(o["g"])("form",{class:"registration__form form",onSubmit:e[1]||(e[1]=Object(o["B"])((function(){return a.formSubmit&&a.formSubmit.apply(a,arguments)}),["prevent"]))},[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(s.fields,(function(t,e){return Object(o["p"])(),Object(o["d"])("label",{class:"form__item",key:e},[Object(o["A"])(Object(o["g"])("input",{type:"text",class:"form__input",name:t.name,"onUpdate:modelValue":function(e){return t.value=e},required:""},null,8,["name","onUpdate:modelValue"]),[[o["y"],t.value]]),Object(o["g"])("span",f,Object(o["w"])(t.label),1)])})),128)),g],32)])])])],64)}var _={class:"header"},O={class:"container header__wrap"};function j(t,e,n,r,s,a){var c=Object(o["u"])("Logo"),i=Object(o["u"])("Login");return Object(o["p"])(),Object(o["d"])("header",_,[Object(o["g"])("div",O,[Object(o["g"])(c),Object(o["g"])(i,{userType:"избиратель"})])])}var h=n("cf05"),v=n.n(h),y=Object(o["g"])("img",{src:v.a,alt:"Логотип",class:"logo__img"},null,-1),w=Object(o["g"])("img",{src:v.a,alt:"Логотип",class:"logo__img"},null,-1);function P(t,e,n,r,s,a){return t.href?(Object(o["p"])(),Object(o["d"])("a",{key:0,href:t.href,class:"logo"},[y],8,["href"])):(Object(o["p"])(),Object(o["d"])("a",{key:1,onClick:e[1]||(e[1]=Object(o["B"])((function(t){return a.resetData()}),["prevent"])),class:"logo"},[w]))}var k={name:"Logo",data:function(){return{href:""}},methods:{resetData:function(){localStorage.removeItem("vote"),localStorage.removeItem("user"),this.$router.push({path:"/registration"})}}};k.render=P;var C=k,S=n("0f62"),x=n.n(S),I={class:"login"},M=Object(o["g"])("img",{src:x.a,alt:"Иконка",class:"login__icon"},null,-1),V={class:"login__text"},$=Object(o["f"])(" Вы вошли как: "),B={class:"login__type"};function T(t,e,n,r,s,a){return Object(o["p"])(),Object(o["d"])("div",I,[M,Object(o["g"])("span",V,[$,Object(o["g"])("span",B,Object(o["w"])(s.type),1)])])}var R={name:"Login",props:["userType"],data:function(){return{type:this.userType}}};R.render=T;var D=R,L={name:"Header",components:{Logo:C,Login:D}};L.render=j;var H=L,A={name:"Registration",data:function(){return{fields:[{name:"name",value:"",label:"Ваше имя"},{name:"surname",value:"",label:"Ваша фамилия"}]}},mounted:function(){localStorage.getItem("user")&&Object.prototype.hasOwnProperty.call(JSON.parse(localStorage.getItem("user")),"name")&&this.$router.push({path:"/main"})},methods:{formSubmit:function(){this.$store.commit({type:"setUserData",name:this.fields[0].value,surname:this.fields[1].value}),this.$router.push({path:"/main"})}},components:{Header:H}};A.render=d;var N=A,J={class:"main"},K={class:"container main__container"},U={class:"main__body"},q={class:"main__head"},G=Object(o["g"])("h2",{class:"main__title"},"Бюллетень",-1),Z={class:"main__text"},E={class:"main__text"},z={class:"main__table table"},F=Object(o["e"])('<div class="table__item table__item_head"><span class="table__text"> Фамилия, имя, <br> отчество соискателя </span></div><div class="table__item table__item_head"><span class="table__text"> Достоин ученой степени </span></div><div class="table__item table__item_head"><span class="table__text"> Результаты <br> голосования </span></div>',3),Q={class:"table__item table__item_data"},W={class:"table__text"},X={class:"table__item table__item_data"},Y={class:"table__text"},tt={class:"table__item table__item_data"},et={class:"popup__body"},nt={class:"popup__title"},ot=Object(o["f"])('Ваш голос: "'),rt={class:"popup__title popup__title_accent"},st=Object(o["f"])('"'),at={class:"popup__footer"},ct={class:"popup__body"},it=Object(o["g"])("h2",{class:"popup__title"},[Object(o["f"])("Подтвердите участие "),Object(o["g"])("br"),Object(o["f"])(" в голосовании")],-1),ut={class:"popup__footer"},pt={class:"popup__body"},lt=Object(o["g"])("h2",{class:"popup__title popup__title_result"},"Результат шифрования:",-1),bt={class:"popup__subtitle"},mt={class:"popup__footer"};function ft(t,e,n,r,s,a){var c=this,i=Object(o["u"])("Header"),u=Object(o["u"])("Aside");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])(i),Object(o["g"])("main",J,[Object(o["g"])("div",K,[Object(o["g"])("div",U,[Object(o["g"])("div",q,[G,Object(o["g"])("p",Z,Object(o["w"])(s.meetengData),1),Object(o["g"])("p",E,Object(o["w"])(s.protocol),1)]),Object(o["g"])("div",z,[F,Object(o["g"])("div",Q,[Object(o["g"])("span",W,Object(o["w"])(s.candidatName),1)]),Object(o["g"])("div",X,[Object(o["g"])("span",Y,Object(o["w"])(s.candidatGrade),1)]),Object(o["g"])("div",tt,[Object(o["g"])("button",{class:"button button_orange table__button",onClick:e[1]||(e[1]=function(){return a.voteButtonClick&&a.voteButtonClick.apply(a,arguments)}),"data-content":"Да"},"Да"),Object(o["g"])("button",{class:"button button_black table__button",onClick:e[2]||(e[2]=function(){return a.voteButtonClick&&a.voteButtonClick.apply(a,arguments)}),"data-content":"Нет"},"Нет")])])]),Object(o["g"])(u)])]),Object(o["g"])("div",{class:["popup",{active:s.popups.confirmPopup.isVisible}],ref:"confirmPopup",onClick:e[5]||(e[5]=function(t){return a.closePopupByBackground(c.popups.confirmPopup)})},[Object(o["g"])("div",et,[Object(o["g"])("h2",nt,[ot,Object(o["g"])("span",rt,Object(o["w"])(s.votedText),1),st]),Object(o["g"])("div",at,[Object(o["g"])("button",{class:"button button_orange popup__button",onClick:e[3]||(e[3]=function(t){return a.showResultPopup()})},"Подтвердить"),Object(o["g"])("button",{class:"button button_black popup__button",onClick:e[4]||(e[4]=function(t){return a.closePopup(c.popups.confirmPopup)})},"Отмена")])])],2),Object(o["g"])("div",{class:["popup popup_underheader",{active:s.popups.enterPopup.isVisible}],ref:"enterPopup"},[Object(o["g"])("div",ct,[it,Object(o["g"])("div",ut,[Object(o["g"])("button",{class:"button button_orange popup__button",onClick:e[6]||(e[6]=function(t){return a.confirmMember()})},"Подтвердить")])])],2),Object(o["g"])("div",{class:["popup",{active:s.popups.resultPopup.isVisible}],ref:"resultPopup"},[Object(o["g"])("div",pt,[lt,Object(o["g"])("p",bt,Object(o["w"])(s.result),1),Object(o["g"])("div",mt,[Object(o["g"])("button",{class:"button button_orange popup__button",onClick:e[7]||(e[7]=function(t){return a.confirm()})},"Ок")])])],2)],64)}var gt={class:"aside"},dt=Object(o["g"])("h3",{class:"aside__title"},[Object(o["f"])("Открытый ключ, "),Object(o["g"])("br"),Object(o["f"])(" полученный с сервера:")],-1),_t={class:"aside__key"};function Ot(t,e,n,r,s,a){return Object(o["p"])(),Object(o["d"])("aside",gt,[dt,Object(o["g"])("span",_t,Object(o["w"])(a.key),1)])}n("99af");var jt={name:"Aside",data:function(){return{serverResponse:{}}},mounted:function(){this.getKey()},methods:{getKey:function(){this.serverResponse={n:12222,g:1225222},this.$store.commit({type:"setKey",n:this.serverResponse.n,g:this.serverResponse.g})}},computed:{key:function(){return"(".concat(this.serverResponse.n,", ").concat(this.serverResponse.g,")")}}};jt.render=Ot;var ht=jt,vt={name:"Main",data:function(){return{meetengData:"Диссертационный совет Д 219.004.04",protocol:"К заседанию совета 09 декабря 2020 года, протокол №11",candidatName:"Иванов Иван Иванович",candidatGrade:"Кандидат технических наук",votedText:"",popups:{confirmPopup:{name:"confirmPopup",isVisible:!1},enterPopup:{name:"enterPopup",isVisible:!1},resultPopup:{name:"resultPopup",isVisible:!1}},result:0}},components:{Header:H,Aside:ht},mounted:function(){(localStorage.user&&!Object.prototype.hasOwnProperty.call(JSON.parse(localStorage.getItem("user")),"name")||"null"==localStorage.getItem("user"))&&this.$router.push({path:"/registration"}),"null"!=localStorage.getItem("vote")&&this.$router.push({path:"/confirm"}),this.openPopup(this.popups.enterPopup)},computed:{key:function(){return this.$store.getters.key},votersCount:function(){return 32},voterIndex:function(){return 2}},methods:{pow:function(t,e){return t="bigint"!=typeof t?BigInt(t):t,e="bigint"!=typeof e?BigInt(e):e,0n==e?1n:1n==e?t:e%2n==0n?this.pow(t*t,e/2n):this.pow(t*t,e/2n)*t},voteButtonClick:function(){var t,e=event.target;this.votedText=null===(t=e.dataset)||void 0===t?void 0:t.content,this.openPopup(this.popups.confirmPopup)},getRandomInt:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},openPopup:function(t){t.isVisible=!0},closePopupByBackground:function(t){event.target.isEqualNode(this.$refs.confirmPopup)&&this.closePopup(t)},closePopup:function(t){t.isVisible=!1},closeAllPopups:function(){for(var t in this.popups)this.popups[t].isVisible=!1},cypherAnswer:function(){var t=this.key.n,e=this.key.g,n="Да"==this.votedText?1:2,o=this.pow(this.votersCount,0)+this.pow(this.votersCount,n),r=this.getRandomInt(1,4*t);this.result=this.pow(e,o)*this.pow(r,t)%this.pow(t,2)},showResultPopup:function(){this.cypherAnswer(),this.closePopup(this.popups.confirmPopup),this.openPopup(this.popups.resultPopup)},confirm:function(){this.$store.commit({type:"setVote",vote:this.votedText}),this.$router.push({path:"/confirm"})},confirmMember:function(){this.closePopup(this.popups.enterPopup),this.$store.commit("memberConfirmation")}}};vt.render=ft;var yt=vt,wt={class:"main confirm"},Pt={class:"container confirm__container"},kt={class:"confirm__body"},Ct=Object(o["g"])("h2",{class:"confirm__title"},[Object(o["f"])("Спасибо! "),Object(o["g"])("br"),Object(o["f"])(" Ваш голос учтен.")],-1),St={class:"confirm__subtitle"},xt=Object(o["f"])('Вы проголосовали "'),It={class:"confirm__subtitle-accent"},Mt=Object(o["f"])('"'),Vt=Object(o["f"])(" Вернуться на страницу университета "),$t=Object(o["g"])("svg",{width:"41",height:"16",viewBox:"0 0 41 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(o["g"])("path",{d:"M40.7071 8.70711C41.0976 8.31658 41.0976 7.68342 40.7071 7.29289L34.3431 0.928932C33.9526 0.538408 33.3195 0.538408 32.9289 0.928932C32.5384 1.31946 32.5384 1.95262 32.9289 2.34315L38.5858 8L32.9289 13.6569C32.5384 14.0474 32.5384 14.6805 32.9289 15.0711C33.3195 15.4616 33.9526 15.4616 34.3431 15.0711L40.7071 8.70711ZM0 9H40V7H0V9Z"})],-1);function Bt(t,e,n,r,s,a){var c=Object(o["u"])("Header");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])(c),Object(o["g"])("main",wt,[Object(o["g"])("div",Pt,[Object(o["g"])("div",kt,[Ct,Object(o["g"])("p",St,[xt,Object(o["g"])("span",It,Object(o["w"])(a.voteText),1),Mt]),Object(o["g"])("a",{href:s.href,class:"confirm__return"},[Vt,$t],8,["href"])])])])],64)}var Tt={name:"Confirm",components:{Header:H},data:function(){return{href:"https://www.sut.ru/"}},mounted:function(){(localStorage.user&&!Object.prototype.hasOwnProperty.call(JSON.parse(localStorage.getItem("user")),"name")||null==localStorage.getItem("user"))&&this.$router.push({path:"/registration"}),localStorage.getItem("vote")||this.$router.push({path:"/registration"}),this.$store.commit({type:"setVote",vote:localStorage.getItem("vote")})},computed:{voteText:function(){return this.$store.getters.vote}}};Tt.render=Bt;var Rt=Tt,Dt=[{path:"/registration",alias:"/",component:N},{path:"/main",component:yt},{path:"/confirm",component:Rt}],Lt=Object(r["a"])({state:function(){return{isConfirmedMember:!1,vote:"",userData:{name:"",surname:""},key:{n:void 0,g:void 0}}},getters:{isConfirmedMember:function(t){return t.isConfirmedMember},userData:function(t){return t.userData},vote:function(t){return t.vote},key:function(t){return t.key}},mutations:{memberConfirmation:function(t){t.isConfirmedMember=!0},setVote:function(t,e){t.vote=e.vote,localStorage.setItem("vote",e.vote)},setKey:function(t,e){t.key={n:e.n,g:e.g}},setUserData:function(t,e){t.userData={name:e.name,surname:e.surname},localStorage.user=JSON.stringify({name:e.name,surname:e.surname})}}}),Ht=Object(s["a"])({mode:"history",routes:Dt,history:Object(s["b"])()}),At=Object(o["c"])(i);At.use(Ht),At.use(Lt),At.mount("#app")},cf05:function(t,e,n){t.exports=n.p+"img/logo.5856aa3f.png"}});
//# sourceMappingURL=app.159ab5df.js.map